# Kurento

## 설계
- Presentation layer(client side)
- Application logic: 특정한 멀티미디어 로직을 제공하는 계층. 적절한 파이프라인을 만드는 역할.
- Service layer: recording, media 계산 등과 같은 어플리케이션 로직을 보조. 멀티미디어 서비스를 제공하는 계층.

### 어플리케이션 구조도
- Signaling Plane: 통신 관리를 맡은 시스템의 한 부분 . QoS parametrization, call establishment, user registration, user presence, etc
- Media Plane: 미디어를 다루는 부분. 미디어 전송, 인코딩/디코딩, 미디어 처리
- 쿠렌토는 media negotiation 을 필수로 하고 있다. 다른 웹 앱처럼 미디어를 요청하고 받는 것이 아니다. 이렇게 복잡하게 만든 이유는 복잡한 미디어 처리를 파이프라인으로 쉽게 처리하기 위해서다.

## API
- 쿠렌토는 API를 제공한다. 이 API는 웹소켓통신 위에서 JSON-RPC로 쿼리가 이루어진다. 하지만 권장하는 방식은 쿠렌토 클라이언트 라이브러리를 사용할 것은 권장한다.
- [그림1]
- 쿠렌토 API는 **Media Elements** 개념이 기반이다. 미디어 엘리먼트는 특정한 미디어 기능을 가진다. WebRTCEndPoint는 WebRTC  미디어 스트림들을 전송하고 수신할 수 있다.

## Kurento Modules
- Kurento 는 pluggable 프레임워크로 설계됐다. 쿠렌토 미디어 서버는 kms-core, kms-elements, kms-filters 라는 기본 모듈들을 사용한다. 또한 내장된 다른 모듈들도 존재한다. kms-crowddetector(사람들이 뭉쳐있음을 감지하는 필터), kms-pointerdetector(색상을 추적하여 포인터들을 감지하는 필터), kms-chorma(상단 레이어에서 색상 범위를 가져와서 투명하게 만드는 필터), kms-platedetector 이 있다. 마지막으로, 쿠렌토 미디어 서버를 커스텀 모듈들로 확장시킬 수 있다.
