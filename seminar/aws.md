# AWS : Awesome day

## 기조발언
- 윤정원 AWS 코리아 공공부분 대표 발언
### 메모
- 컴퓨터 자원을 빌리는 클라우드를 넘어서, 요즘은 데이터를 습득하고 저장하고 활용하고 있다.
- 기술 기반 인스트런션을 사용하려는 모든 사용자에게 빌려주는 기업
- 유비쿼터스 시티가 실패한 이유는 네트워크 성능이 낮았고, 중앙에서 데이터를 얻어서 활용하지 못했다. 지금은 클라우드를 통해 가능해졌다.

## 사업부분 발표
- 김선수 사업개발 담당
### 메모
- 데이터를 가지고 여러 기기들을 연결한다. 데이터를 인공지능을 통해 활용한다.
- 기기를 통해 데이터를 수집하고, 데이터를 활용해서 새로운 서비스를 할 수 있다.
- 기존 데이터를 가지고 오거나, 데이터를 생성해서 하거나
- 무엇이 일어났는가, 왜 일어났는가, 무엇이 일어날 것인가, 내가 무엇을 할 것인가
- 아마존 고
- 음성: 알렉사 비지니스, 알렉사 호텔, 알렉사 키즈
- 영상: 사람 이동 경로 기록, 사람을 인식해서 화면에 이름 태그,
- 데이터: 생산 시설, Netflix
- 제조 의약: Merck
- 아마존 ANDES 데이터 가치 사슬
- IOT:
- 고객연결/ 빅데이터 /비지니스 특성 별 도입이 가능한 기술(음성 서비스, 인공지능)

---

## AWS 서비스 소개
- 조재구 태크니컬 트레이너
### 메모
- AWS란 비즈니스와 개발자가 웹 서비스를 사용하여 확장 가능하고 정교한 애플리케이션을 구축하도록 지원.
- 자본비용을 가변비용으로 대체할 수 있다. 예를 들면 문서를 작성하기 위해 윈도우 컴퓨터를 사지말고, 클라우드 서비스로 쓴만큼 비용을 내면 된다.
- 규모의 경제 이익을 얻을 수 있고, 필요한 용량을 추정할 필요가 없다. 장비들을 구매하고 설치할 필요가 없기 때문이다. 구매가 아니라 서비스를 선택.
- 몇 분만에 해외 서비스를 할 수 있음
- 리전 내 가용영역이 있다.
- 3가지 방법으로 사용 가능하다. 웹 데시보드, 각종 CLI, 각종 언어로 사용할 수 있는 SDK

## EC2
- 컴퓨팅 요구 사항의 변화에 따라 컴퓨팅 파워를 조정 
- 리눅스와 윈도우 선택
- 태그를 사용하여 EC2 리소스를 관리할 수 있다. 관리작업을 태그 단위로 할 수 있다.
- 중단과 종료 차이를 알아야 한다. 종료는 인스턴스를 삭제하는 것이다.
- 적절한 인스턴스 타입 선택 필요: 소규모 웹은 t2,m5,m4
- 
## 사용법
1. 지역(리전) 정하기
2. 사전 정의된 아마존 머신 이미지(AMI)에서 EC2 인스턴스 시작한다.
3. 인스턴스 유형을 선택한다. CPU, MEMORY 등
4. 네트워크, IP 주소 등을 선택

## 인스턴스 메타데이터 보기
- `http://169.254.169.254/latest/meta-data/`
- `$curl ...`

## 유저 데이터
- 인스턴스에 무엇을 설치할 지 등에 대한 스크립트. 리눅스는 쉘스크립트로 작성
- 시작 시에 인스턴스에 전달 가능.
- 여러 인스턴스에 공통적인 자동화 구성 작업을 수행하는데 사용.
- 인스턴스가 시작된 후에 스크립트를 실행한다.
### 사용자 데이터 추가
- 인스턴스를 시작할 떄 사용자 데이터를 지정한다.
- url을 통해 유저데이터를 가져올 수 있다.

## ec2 구입 옵션
- 온디멘드: 특정 시간에만 사용할 수 있다.
- 예약 인스턴스: 1년,2년 단위로 24시간 모두 켜둔다
- 예정된 인스턴스: 1년,2년 기간 내에 특정 시간에만 사용할 수 있다.
- 스팟 인스턴스: 잉여 클라우드 자원을 저렴하게 사용할 수 있지만, 잉여 자원에 따라 요금이 달라질 수 있고, 인스턴스가 없어질 수 있음.
- 전용 인스턴스: 단일 테넌드 하드웨어에서 실행
- 호스트 인스턴스

## 네트워크
- VPC

## S3
- 디렉토리가 아니라 객체로 데이터를 저장. 객체는 버킷이라는 그룹에 담을 수 있다.
- 가용성, 내구성이 보장된다.
- HTTP 로 접속 가능.
- 버전관리 가능.
- 객체 수명 주기: 엑세스를 많이 하는 데이터, 엑세스를 많이 하지 않지만 의무적으로 장기 보관이 필요한 데이터. 각각에 맞는 서비스를 차등적용할 수 있어서 적절한 요금을 낼 수 있음.
- S3 에서 데이터를 밖으로 전송할 때 과금이 발생한다. public access 를 할 경우, 각각 접속자에 따른 요금이 발생한다. 주의할 것.

## Amazone Glacier
- 저렴한 아카이빙 서비스
- 자주 사용하지 않는 데이터에 최적
- 검색에 3~5시간 소요. 복원에 필요한 시간이다.

## EBS
- Block Storage: 하드디스크, SSD 같은 디스크. 
- EC2에 디스크가 필요할 경우 EBS을 사용하면 된다.
- 특정 가용영역 내에 한 곳에만 올라간다. 그래서 백업하려면 다른 가용영역으로 EBS 스냅샷을 저장하면 된다.
- EBS 는 가용영역 내 서비스, S3는 리전 기반 스토리지
- 아마존 S3에 EBS 스냅샷을 저장할 수 있어서, 언제든 복구 가능하다. 비용 발생함.
- Harddisk 와 SSD 볼륨을 선택할 수 있다.
- 데이터에 빠르게 엑세스하고 장기간 지속해야 하는 경우 좋다.
- 암호화 기능 제공.
- os boot, database 등에 사용 가능
- 디스크 개념이기 때문에 외부에서 접속이 불가능하다.`

### 생명주기
1. 볼륨 호출을 통해 생성
2. EC2 인스턴와 연결
3. 포맷됨
4. S3로 스냅샷 저장
5. 탈착
6. 삭제

## EC2 인스턴스 스토리지
- EBS는 네트워크 스토리지이기 때문에 로컬 스토리지보다 느리다. 그래서 EC2 인스턴스 스토리지가 필요하다.
- 빠르다면 장점이 있지만, EC2 인스턴스가 중단되면 데이터가 삭제된다.
- 그래서 분석할 떄 주로 사용.

## 재부팅/중단/종료 비교
- Public IP Address 는 재부팅할 때는 유지되지만, 인스턴스를 중단과 종료를 할 경우 변경된다.
- EIP를 사용하면 IP주소가 보존된다. 하지만 요금이 발생한다.
- 사용하지 않은 인스턴스는 꺼두는 것이 좋다. 켜두면 비용이 발생한다

## 보안
- 보안 책임 범위를 확인할 필요 있음. 아마존 보안 책임과 클라이언트가 챙겨야할  보안 책임이 있다.
- SSL 제공
- 멀티 티어 보안 그룹 제공. 방화벽 룰 정의 가능. 
- VPC로 접속 설정 가능
### IAM
- IAM 역할은 권한을 관리한다.
- IAM 제공. 이메일 계정은 루트 계정과 같다. 그래서 별도의 사용자를 만들어서 사용할 수 있는 것이 IAM 서비스이다. 권한 정의 가능하다. 
- 엑세스키를 제공해서 EC2인스턴스를 사용한다.
- 아마존 리소스를 사용하는 파이썬 프로그램에 키 대신 IAM 권한을 부여한다. EC2 인스턴스에 키를 정하지 말고, IAM 역할부여로 연동하면 안전하다.

### 보안설정
- 루트 게정 키를 삭제할 것
- 개별 IAM 사용자 생성
- 그룹을 사용하여 IAM 사용자에게 권한을 지정
- 최소한의 권한 부여
- 강력한 암호 정책 구성
- 권한 있는 사용자에 대해 MFA 활성화
- AWS CloudTrail: aws 서비스 활동 자동 기록. S3에 로그가 저장되기 때문에 사용하면 비용이 발생한다.

---

## AWS 관리형 Database
- 데이터베이스 운영에 대한 관리를 대신 해준다.
- 여러 제품 중에 Amazon RDS 는 각종 RDBMS를 제공한다. Database Migration Service 는 다른 데이터베이스로 옮길 수 있게 한다. 

### RDS
- 비용 효율적이고 크기 조절 가능한 용량
- 시간 소모가 많은 데이터베이스 관리 작업을 지원
- 간편하고 빠른 배포, 빠른 확장, 보안, 비용 효율적
- DB 인스턴스는 아마존 RDS의 기본 빌딩 블록이다.
- 자동 백업과 수동 스냅샷으로 백업을 할 수 있다. 하지만 수동 스냅샷은 S3에 저장된다.
- 스냅샷을 다른 리전에 보관할 수 있다. 재해 복구를 위한 백업을 제공. 
- 다중 AZ를 통해 마스터 데이터베이스가 장애가 발생했을 경우, 다중 AZ에서 처리가 가능하다.

## Amazone DynamoDB
- 어떤 양의 데이터든 제한 없이 저장
- SSD를 사용해 빠르고 예측 가능한 성능 제공
- 테이블 별로 필요한 요청 용량을 쉽게 프로비저닝하고 변경 가능.
- 완전관리형 noSQL 데이터베이스 서비스.




